## アプリ概要
### 一般家庭のキッチンにある食材の在庫管理アプリ
### 賞味期限が切れる前に食品を消費することを目的とした機能が搭載されています。

このプロジェクトは、未経験からWeb開発を学ぶために作成した学習用プロジェクトです。

プロジェクトを通して、開発の流れや基本的な機能実装の経験を積むことを目的としています。

## 開発背景
家にある食材を計画的に使えず、賞味期限切れにしてしまうことが多々ありました。

冷蔵庫やキッチンにある食材の賞味期限は、現品のラベルを確認しないと把握できず、  

外出先では「何がどれくらい期限が近いのか」を確認できない点に不便さを感じていました。

そこで、冷蔵庫内やキッチンにある食材とその賞味期限を外出先からでも確認できるようにし、  

賞味期限が近い食材を優先的に使ったレシピを事前に考えられるツールを作りたいと考えました。

本アプリを利用することで、  
- 帰宅後すぐに調理に取り掛かれる  
- 作りたい料理に不足している食材を帰宅途中で購入できる  
- 食材の賞味期限を一目で把握でき、食品ロスを減らせる  

といった課題解決が可能になります。

日常生活で感じていた「食材管理の煩雑さ」を解消するため、  
在庫の全体像を常に最新の状態で確認できるツールとして本アプリを開発しました。

## 機能概要
一般家庭のキッチンにある食材の在庫管理（賞味期限管理）をするアプリです。

- 食材名 + 賞味期限の登録 ⇒ 一覧表示
- 一覧に登録した食材項目の編集と削除
- 賞味期限までの残り日数に応じた色分け表示＆アラート表示機能
- レシピ検索機能

### ページ全体
![ページ全体](screenshots/whole_page.png)

### 食材＋賞味期限 の登録
食材名と賞味期限を登録できます。

登録された食材＋賞味期限は一覧表示に追加されます。

![食材登録](screenshots/item_create.gif)

### 一覧表示と色分け表示機能
登録された食材と賞味期限が一覧表示されます。

賞味期限までの残り日数に応じて食材ごとに色分け表示され、

賞味期限が迫っている食材の緊急度を知らせる機能です。

＜色分けルール＞

賞味期限切れ　　　　→　茶色表示＋⚠️

賞味期限当日・前日　→　赤色表示

賞味期限2日前　　　 →　オレンジ色表示

賞味期限3～5日前　  →　緑色表示

賞味期限6日以上前   →　デフォルト表示(黒色文字)

![在庫一覧](screenshots/item_list.png)

### 食材・賞味期限 の 編集・削除
登録した食材の食材名・賞味期限が編集できます。

![食材編集](screenshots/item_edit.gif)

登録した食材の削除ができます。

![食材削除](screenshots/item_delete.gif)

### レシピ検索機能
消費したい食材を検索ボックスに入力して検索すると、

その食材を使用したレシピの検索結果が一覧表示されます。

賞味期限が迫っている食材を消費したいとき、レシピのアイデアを得るのに便利です。

![レシピ検索](screenshots/recipe_search.gif)

![レシピ検索](screenshots/recipe_search_detail.gif)

## 画面・URL設計（導線 → URL詳細）

### ユーザー視点の導線（操作フロー）
- アプリにアクセス：`/` → `/items/`（在庫一覧画面へ）
- 在庫を登録：`/items/` で食品名・賞味期限を入力 → 登録 → 一覧に反映
- 在庫を編集：一覧の「編集」→ 編集画面 → 保存 → 一覧へ戻る
- 在庫を削除：一覧の「削除」→ 確認画面 → 削除 → 一覧へ戻る
- レシピを探す：`/items/` 右カラムでキーワード検索 → 検索結果が右カラムだけ更新
- レシピ詳細を見る：検索結果のレシピをクリック → 詳細ページ → 戻る

---

### URL設計（エンドポイント仕様）
本アプリは「在庫一覧 + 登録 + レシピ検索」を `/items/` に集約し、編集・削除・レシピ詳細のみ個別ページに分けています。  
また、レシピ検索はページ全体を再描画せず、右カラムのみ非同期で更新します。

| URL | Method | View | Template | 返すもの | 用途 / 補足 |
|---|---:|---|---|---|---|
| `/` | GET | - | - | Redirect → `/items/` | ルートアクセスは一覧画面へ誘導 |
| `/items/` | GET | `item_list` | `inventory/item_list.html` | Full HTML | 在庫一覧 + 登録フォーム + レシピ検索UIを表示（`q` があれば初期検索に反映） |
| `/items/` | POST | `item_list` | - | Redirect → `/items/` | アイテム登録（PRGパターンで二重送信を防止） |
| `/items/edit/<int:pk>/` | GET | `item_edit` | `inventory/item_edit.html` | Full HTML | 編集フォーム表示 |
| `/items/edit/<int:pk>/` | POST | `item_edit` | - | Redirect → `/items/` | 編集内容を保存して一覧へ戻る |
| `/items/delete/<int:pk>/` | GET | `item_delete` | `inventory/item_confirm_delete.html` | Full HTML | 削除確認画面（誤削除防止） |
| `/items/delete/<int:pk>/` | POST | `item_delete` | - | Redirect → `/items/` | 削除実行して一覧へ戻る |
| `/items/recipe-search/` | GET | `recipe_search` | `inventory/_recipe_results.html` | Partial HTML | JS(fetch)で呼び出し、レシピ検索結果部分のみ差し替え |
| `/items/recipe/<int:recipe_id>/` | GET | `recipe_detail` | `inventory/recipe_detail.html` | Full HTML | レシピ詳細表示（取得できない場合は404） |

### 非同期更新（右カラム差し替え）
`/items/recipe-search/?q=...` はページ全体ではなく **検索結果のHTML断片（partial）** を返します。  
`inventory/static/inventory/app.js` から fetch し、返ってきたHTMLを `#recipe-results` に差し込むことで右カラムのみ更新します。


## 学んだこと
- Webアプリ開発の基本的な仕組みと開発のおおまかな流れ
- Linuxの使い方
- 仮想環境の設定
- DB設計手法（正規化など）
- Djangoの基本的なCRUD処理の理解
- MVCモデル（MVTモデル）の考え方
- VS Codeの操作
- テンプレートやフォームの操作経験
- 簡単なフロントエンド表示（色分けなど）
- Python, HTMLのコーディング
- 外部APIの実装
- バグ修正や簡易機能修正
- Gitによるバージョン管理
- 秘密情報の管理方法（スクリプトに書かない方法）

## 今後の課題・改善点
- レシピ検索機能（現状：英語検索しかできない、賞味期限近い食材から直接検索・組み合わせて検索などができない）
- ユーザー認証・権限管理の追加
- テストの導入
- UI/UX改善
- セキュリティ面の強化
- デプロイ未経験
- デザインの改善
- その他、認識できていない改善点や課題を調査中

## 動作環境
- Python 3.11
- Django 4.2
- Ubuntu 22.04（WSL上）

## 注意事項
学習用プロジェクトのため、セキュリティ面や機能の完成度は保証されません。

今後も機能追加・改善を続ける予定です。
